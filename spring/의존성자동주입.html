<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>&#xc758;&#xc874;&#xad00;&#xacc4; &#xc790;&#xb3d9; &#xc8fc;&#xc785;</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

/* From extension bierner.markdown-preview-github-styles */
html,
body,
.github-markdown-body {
    padding: 0 !important;
    max-width: auto !important;
}

.github-markdown-body {
    background-color: var(--color-canvas-default);
    color: var(--color-fg-default);
}

.github-markdown-body {
    border: 1px solid transparent;
    box-sizing: border-box;
    margin: 0 auto;
    width: 100% !important;
}

.github-markdown-content {
    padding: 32px !important;
    max-width: 980px;
    min-width: 200px;
    margin: 0 auto;
}


.vscode-body.scrollBeyondLastLine {
    margin-bottom: 0;
}
.vscode-body.scrollBeyondLastLine .github-markdown-body {
    padding-bottom: calc(100vh + 10px) !important;
}

.github-markdown-body blockquote {
    background-color: initial;
}

.github-markdown-body pre {
    color: initial;
}

.github-markdown-body code {
    color: inherit;
}

.github-markdown-body pre code {
    color: initial;
}

.github-markdown-body code > div {
    background: none
}

.github-markdown-body.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.github-markdown-body p,
.github-markdown-body blockquote,
.github-markdown-body ul,
.github-markdown-body ol,
.github-markdown-body dl,
.github-markdown-body table,
.github-markdown-body pre {
  margin-top: 16px;
  margin-bottom: 16px;
}

/* Generated from 'node_modules/github-markdown-css/github-markdown.css' */

.github-markdown-light,
.vscode-body.vscode-light .github-markdown-auto {
  color-scheme: light;
  --color-prettylights-syntax-comment: #6e7781;
  --color-prettylights-syntax-constant: #0550ae;
  --color-prettylights-syntax-entity: #8250df;
  --color-prettylights-syntax-storage-modifier-import: #24292f;
  --color-prettylights-syntax-entity-tag: #116329;
  --color-prettylights-syntax-keyword: #cf222e;
  --color-prettylights-syntax-string: #0a3069;
  --color-prettylights-syntax-variable: #953800;
  --color-prettylights-syntax-brackethighlighter-unmatched: #82071e;
  --color-prettylights-syntax-invalid-illegal-text: #f6f8fa;
  --color-prettylights-syntax-invalid-illegal-bg: #82071e;
  --color-prettylights-syntax-carriage-return-text: #f6f8fa;
  --color-prettylights-syntax-carriage-return-bg: #cf222e;
  --color-prettylights-syntax-string-regexp: #116329;
  --color-prettylights-syntax-markup-list: #3b2300;
  --color-prettylights-syntax-markup-heading: #0550ae;
  --color-prettylights-syntax-markup-italic: #24292f;
  --color-prettylights-syntax-markup-bold: #24292f;
  --color-prettylights-syntax-markup-deleted-text: #82071e;
  --color-prettylights-syntax-markup-deleted-bg: #FFEBE9;
  --color-prettylights-syntax-markup-inserted-text: #116329;
  --color-prettylights-syntax-markup-inserted-bg: #dafbe1;
  --color-prettylights-syntax-markup-changed-text: #953800;
  --color-prettylights-syntax-markup-changed-bg: #ffd8b5;
  --color-prettylights-syntax-markup-ignored-text: #eaeef2;
  --color-prettylights-syntax-markup-ignored-bg: #0550ae;
  --color-prettylights-syntax-meta-diff-range: #8250df;
  --color-prettylights-syntax-brackethighlighter-angle: #57606a;
  --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;
  --color-prettylights-syntax-constant-other-reference-link: #0a3069;
  --color-fg-default: #24292f;
  --color-fg-muted: #57606a;
  --color-fg-subtle: #6e7781;
  --color-canvas-default: #ffffff;
  --color-canvas-subtle: #f6f8fa;
  --color-border-default: #d0d7de;
  --color-border-muted: hsla(210,18%,87%,1);
  --color-neutral-muted: rgba(175,184,193,0.2);
  --color-accent-fg: #0969da;
  --color-accent-emphasis: #0969da;
  --color-danger-fg: #cf222e;
}

.github-markdown-dark,
.vscode-body.vscode-dark .github-markdown-auto {
  color-scheme: dark;
  --color-prettylights-syntax-comment: #8b949e;
  --color-prettylights-syntax-constant: #79c0ff;
  --color-prettylights-syntax-entity: #d2a8ff;
  --color-prettylights-syntax-storage-modifier-import: #c9d1d9;
  --color-prettylights-syntax-entity-tag: #7ee787;
  --color-prettylights-syntax-keyword: #ff7b72;
  --color-prettylights-syntax-string: #a5d6ff;
  --color-prettylights-syntax-variable: #ffa657;
  --color-prettylights-syntax-brackethighlighter-unmatched: #f85149;
  --color-prettylights-syntax-invalid-illegal-text: #f0f6fc;
  --color-prettylights-syntax-invalid-illegal-bg: #8e1519;
  --color-prettylights-syntax-carriage-return-text: #f0f6fc;
  --color-prettylights-syntax-carriage-return-bg: #b62324;
  --color-prettylights-syntax-string-regexp: #7ee787;
  --color-prettylights-syntax-markup-list: #f2cc60;
  --color-prettylights-syntax-markup-heading: #1f6feb;
  --color-prettylights-syntax-markup-italic: #c9d1d9;
  --color-prettylights-syntax-markup-bold: #c9d1d9;
  --color-prettylights-syntax-markup-deleted-text: #ffdcd7;
  --color-prettylights-syntax-markup-deleted-bg: #67060c;
  --color-prettylights-syntax-markup-inserted-text: #aff5b4;
  --color-prettylights-syntax-markup-inserted-bg: #033a16;
  --color-prettylights-syntax-markup-changed-text: #ffdfb6;
  --color-prettylights-syntax-markup-changed-bg: #5a1e02;
  --color-prettylights-syntax-markup-ignored-text: #c9d1d9;
  --color-prettylights-syntax-markup-ignored-bg: #1158c7;
  --color-prettylights-syntax-meta-diff-range: #d2a8ff;
  --color-prettylights-syntax-brackethighlighter-angle: #8b949e;
  --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;
  --color-prettylights-syntax-constant-other-reference-link: #a5d6ff;
  --color-fg-default: #c9d1d9;
  --color-fg-muted: #8b949e;
  --color-fg-subtle: #484f58;
  --color-canvas-default: #0d1117;
  --color-canvas-subtle: #161b22;
  --color-border-default: #30363d;
  --color-border-muted: #21262d;
  --color-neutral-muted: rgba(110,118,129,0.4);
  --color-accent-fg: #58a6ff;
  --color-accent-emphasis: #1f6feb;
  --color-danger-fg: #f85149;
}

@media (prefers-color-scheme: dark) {
  .github-markdown-system {
    color-scheme: dark;
    --color-prettylights-syntax-comment: #8b949e;
    --color-prettylights-syntax-constant: #79c0ff;
    --color-prettylights-syntax-entity: #d2a8ff;
    --color-prettylights-syntax-storage-modifier-import: #c9d1d9;
    --color-prettylights-syntax-entity-tag: #7ee787;
    --color-prettylights-syntax-keyword: #ff7b72;
    --color-prettylights-syntax-string: #a5d6ff;
    --color-prettylights-syntax-variable: #ffa657;
    --color-prettylights-syntax-brackethighlighter-unmatched: #f85149;
    --color-prettylights-syntax-invalid-illegal-text: #f0f6fc;
    --color-prettylights-syntax-invalid-illegal-bg: #8e1519;
    --color-prettylights-syntax-carriage-return-text: #f0f6fc;
    --color-prettylights-syntax-carriage-return-bg: #b62324;
    --color-prettylights-syntax-string-regexp: #7ee787;
    --color-prettylights-syntax-markup-list: #f2cc60;
    --color-prettylights-syntax-markup-heading: #1f6feb;
    --color-prettylights-syntax-markup-italic: #c9d1d9;
    --color-prettylights-syntax-markup-bold: #c9d1d9;
    --color-prettylights-syntax-markup-deleted-text: #ffdcd7;
    --color-prettylights-syntax-markup-deleted-bg: #67060c;
    --color-prettylights-syntax-markup-inserted-text: #aff5b4;
    --color-prettylights-syntax-markup-inserted-bg: #033a16;
    --color-prettylights-syntax-markup-changed-text: #ffdfb6;
    --color-prettylights-syntax-markup-changed-bg: #5a1e02;
    --color-prettylights-syntax-markup-ignored-text: #c9d1d9;
    --color-prettylights-syntax-markup-ignored-bg: #1158c7;
    --color-prettylights-syntax-meta-diff-range: #d2a8ff;
    --color-prettylights-syntax-brackethighlighter-angle: #8b949e;
    --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;
    --color-prettylights-syntax-constant-other-reference-link: #a5d6ff;
    --color-fg-default: #c9d1d9;
    --color-fg-muted: #8b949e;
    --color-fg-subtle: #484f58;
    --color-canvas-default: #0d1117;
    --color-canvas-subtle: #161b22;
    --color-border-default: #30363d;
    --color-border-muted: #21262d;
    --color-neutral-muted: rgba(110,118,129,0.4);
    --color-accent-fg: #58a6ff;
    --color-accent-emphasis: #1f6feb;
    --color-danger-fg: #f85149;
  }
}

@media (prefers-color-scheme: light) {
  .github-markdown-system {
    color-scheme: light;
    --color-prettylights-syntax-comment: #6e7781;
    --color-prettylights-syntax-constant: #0550ae;
    --color-prettylights-syntax-entity: #8250df;
    --color-prettylights-syntax-storage-modifier-import: #24292f;
    --color-prettylights-syntax-entity-tag: #116329;
    --color-prettylights-syntax-keyword: #cf222e;
    --color-prettylights-syntax-string: #0a3069;
    --color-prettylights-syntax-variable: #953800;
    --color-prettylights-syntax-brackethighlighter-unmatched: #82071e;
    --color-prettylights-syntax-invalid-illegal-text: #f6f8fa;
    --color-prettylights-syntax-invalid-illegal-bg: #82071e;
    --color-prettylights-syntax-carriage-return-text: #f6f8fa;
    --color-prettylights-syntax-carriage-return-bg: #cf222e;
    --color-prettylights-syntax-string-regexp: #116329;
    --color-prettylights-syntax-markup-list: #3b2300;
    --color-prettylights-syntax-markup-heading: #0550ae;
    --color-prettylights-syntax-markup-italic: #24292f;
    --color-prettylights-syntax-markup-bold: #24292f;
    --color-prettylights-syntax-markup-deleted-text: #82071e;
    --color-prettylights-syntax-markup-deleted-bg: #FFEBE9;
    --color-prettylights-syntax-markup-inserted-text: #116329;
    --color-prettylights-syntax-markup-inserted-bg: #dafbe1;
    --color-prettylights-syntax-markup-changed-text: #953800;
    --color-prettylights-syntax-markup-changed-bg: #ffd8b5;
    --color-prettylights-syntax-markup-ignored-text: #eaeef2;
    --color-prettylights-syntax-markup-ignored-bg: #0550ae;
    --color-prettylights-syntax-meta-diff-range: #8250df;
    --color-prettylights-syntax-brackethighlighter-angle: #57606a;
    --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;
    --color-prettylights-syntax-constant-other-reference-link: #0a3069;
    --color-fg-default: #24292f;
    --color-fg-muted: #57606a;
    --color-fg-subtle: #6e7781;
    --color-canvas-default: #ffffff;
    --color-canvas-subtle: #f6f8fa;
    --color-border-default: #d0d7de;
    --color-border-muted: hsla(210,18%,87%,1);
    --color-neutral-muted: rgba(175,184,193,0.2);
    --color-accent-fg: #0969da;
    --color-accent-emphasis: #0969da;
    --color-danger-fg: #cf222e;
  }
}

.github-markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  margin: 0;
  color: var(--color-fg-default);
  background-color: var(--color-canvas-default);
  font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.github-markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.github-markdown-body h1:hover .anchor .octicon-link:before,
.github-markdown-body h2:hover .anchor .octicon-link:before,
.github-markdown-body h3:hover .anchor .octicon-link:before,
.github-markdown-body h4:hover .anchor .octicon-link:before,
.github-markdown-body h5:hover .anchor .octicon-link:before,
.github-markdown-body h6:hover .anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
}

.github-markdown-body details,
.github-markdown-body figcaption,
.github-markdown-body figure {
  display: block;
}

.github-markdown-body summary {
  display: list-item;
}

.github-markdown-body a {
  background-color: transparent;
  color: var(--color-accent-fg);
  text-decoration: none;
}

.github-markdown-body a:active,
.github-markdown-body a:hover {
  outline-width: 0;
}

.github-markdown-body abbr[title] {
  border-bottom: none;
  -webkit-text-decoration: underline dotted;
  text-decoration: underline dotted;
}

.github-markdown-body b,
.github-markdown-body strong {
  font-weight: 600;
}

.github-markdown-body dfn {
  font-style: italic;
}

.github-markdown-body h1 {
  margin: .67em 0;
  font-weight: 600;
  padding-bottom: .3em;
  font-size: 2em;
  border-bottom: 1px solid var(--color-border-muted);
}

.github-markdown-body mark {
  background-color: #ff0;
  color: var(--color-text-primary);
}

.github-markdown-body small {
  font-size: 90%;
}

.github-markdown-body sub,
.github-markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

.github-markdown-body sub {
  bottom: -0.25em;
}

.github-markdown-body sup {
  top: -0.5em;
}

.github-markdown-body img {
  border-style: none;
  max-width: 100%;
  box-sizing: content-box;
  background-color: var(--color-canvas-default);
}

.github-markdown-body code,
.github-markdown-body kbd,
.github-markdown-body pre,
.github-markdown-body samp {
  font-family: monospace,monospace;
  font-size: 1em;
}

.github-markdown-body figure {
  margin: 1em 40px;
}

.github-markdown-body hr {
  box-sizing: content-box;
  overflow: hidden;
  background: transparent;
  border-bottom: 1px solid var(--color-border-muted);
  height: .25em;
  padding: 0;
  margin: 24px 0;
  background-color: var(--color-border-default);
  border: 0;
}

.github-markdown-body html [type=button],
.github-markdown-body [type=reset],
.github-markdown-body [type=submit] {
  -webkit-appearance: button;
}

.github-markdown-body [type=button]::-moz-focus-inner,
.github-markdown-body [type=reset]::-moz-focus-inner,
.github-markdown-body [type=submit]::-moz-focus-inner {
  border-style: none;
  padding: 0;
}

.github-markdown-body [type=button]:-moz-focusring,
.github-markdown-body [type=reset]:-moz-focusring,
.github-markdown-body [type=submit]:-moz-focusring {
  outline: 1px dotted ButtonText;
}

.github-markdown-body [type=checkbox],
.github-markdown-body [type=radio] {
  box-sizing: border-box;
  padding: 0;
}

.github-markdown-body [type=number]::-webkit-inner-spin-button,
.github-markdown-body [type=number]::-webkit-outer-spin-button {
  height: auto;
}

.github-markdown-body [type=search] {
  -webkit-appearance: textfield;
  outline-offset: -2px;
}

.github-markdown-body [type=search]::-webkit-search-cancel-button,
.github-markdown-body [type=search]::-webkit-search-decoration {
  -webkit-appearance: none;
}

.github-markdown-body ::-webkit-input-placeholder {
  color: inherit;
  opacity: .54;
}

.github-markdown-body ::-webkit-file-upload-button {
  -webkit-appearance: button;
  font: inherit;
}

.github-markdown-body a:hover {
  text-decoration: underline;
}

.github-markdown-body hr::before {
  display: table;
  content: "";
}

.github-markdown-body hr::after {
  display: table;
  clear: both;
  content: "";
}

.github-markdown-body table {
  border-spacing: 0;
  border-collapse: collapse;
  display: block;
  width: max-content;
  max-width: 100%;
  overflow: auto;
}

.github-markdown-body td,
.github-markdown-body th {
  padding: 0;
}

.github-markdown-body details summary {
  cursor: pointer;
}

.github-markdown-body details:not([open])>*:not(summary) {
  display: none !important;
}

.github-markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
  line-height: 10px;
  color: var(--color-fg-default);
  vertical-align: middle;
  background-color: var(--color-canvas-subtle);
  border: solid 1px var(--color-neutral-muted);
  border-bottom-color: var(--color-neutral-muted);
  border-radius: 6px;
  box-shadow: inset 0 -1px 0 var(--color-neutral-muted);
}

.github-markdown-body h1,
.github-markdown-body h2,
.github-markdown-body h3,
.github-markdown-body h4,
.github-markdown-body h5,
.github-markdown-body h6 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: 600;
  line-height: 1.25;
}

.github-markdown-body h2 {
  font-weight: 600;
  padding-bottom: .3em;
  font-size: 1.5em;
  border-bottom: 1px solid var(--color-border-muted);
}

.github-markdown-body h3 {
  font-weight: 600;
  font-size: 1.25em;
}

.github-markdown-body h4 {
  font-weight: 600;
  font-size: 1em;
}

.github-markdown-body h5 {
  font-weight: 600;
  font-size: .875em;
}

.github-markdown-body h6 {
  font-weight: 600;
  font-size: .85em;
  color: var(--color-fg-muted);
}

.github-markdown-body p {
  margin-top: 0;
  margin-bottom: 10px;
}

.github-markdown-body blockquote {
  margin: 0;
  padding: 0 1em;
  color: var(--color-fg-muted);
  border-left: .25em solid var(--color-border-default);
}

.github-markdown-body ul,
.github-markdown-body ol {
  margin-top: 0;
  margin-bottom: 0;
  padding-left: 2em;
}

.github-markdown-body ol ol,
.github-markdown-body ul ol {
  list-style-type: lower-roman;
}

.github-markdown-body ul ul ol,
.github-markdown-body ul ol ol,
.github-markdown-body ol ul ol,
.github-markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.github-markdown-body dd {
  margin-left: 0;
}

.github-markdown-body tt,
.github-markdown-body code {
  font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
  font-size: 12px;
}

.github-markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
  font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
  font-size: 12px;
  word-wrap: normal;
}

.github-markdown-body :-ms-input-placeholder {
  color: var(--color-fg-subtle);
  opacity: 1;
}

.github-markdown-body ::-ms-input-placeholder {
  color: var(--color-fg-subtle);
  opacity: 1;
}

.github-markdown-body ::placeholder {
  color: var(--color-fg-subtle);
  opacity: 1;
}

.github-markdown-body .pl-c {
  color: var(--color-prettylights-syntax-comment);
}

.github-markdown-body .pl-c1,
.github-markdown-body .pl-s .pl-v {
  color: var(--color-prettylights-syntax-constant);
}

.github-markdown-body .pl-e,
.github-markdown-body .pl-en {
  color: var(--color-prettylights-syntax-entity);
}

.github-markdown-body .pl-smi,
.github-markdown-body .pl-s .pl-s1 {
  color: var(--color-prettylights-syntax-storage-modifier-import);
}

.github-markdown-body .pl-ent {
  color: var(--color-prettylights-syntax-entity-tag);
}

.github-markdown-body .pl-k {
  color: var(--color-prettylights-syntax-keyword);
}

.github-markdown-body .pl-s,
.github-markdown-body .pl-pds,
.github-markdown-body .pl-s .pl-pse .pl-s1,
.github-markdown-body .pl-sr,
.github-markdown-body .pl-sr .pl-cce,
.github-markdown-body .pl-sr .pl-sre,
.github-markdown-body .pl-sr .pl-sra {
  color: var(--color-prettylights-syntax-string);
}

.github-markdown-body .pl-v,
.github-markdown-body .pl-smw {
  color: var(--color-prettylights-syntax-variable);
}

.github-markdown-body .pl-bu {
  color: var(--color-prettylights-syntax-brackethighlighter-unmatched);
}

.github-markdown-body .pl-ii {
  color: var(--color-prettylights-syntax-invalid-illegal-text);
  background-color: var(--color-prettylights-syntax-invalid-illegal-bg);
}

.github-markdown-body .pl-c2 {
  color: var(--color-prettylights-syntax-carriage-return-text);
  background-color: var(--color-prettylights-syntax-carriage-return-bg);
}

.github-markdown-body .pl-sr .pl-cce {
  font-weight: bold;
  color: var(--color-prettylights-syntax-string-regexp);
}

.github-markdown-body .pl-ml {
  color: var(--color-prettylights-syntax-markup-list);
}

.github-markdown-body .pl-mh,
.github-markdown-body .pl-mh .pl-en,
.github-markdown-body .pl-ms {
  font-weight: bold;
  color: var(--color-prettylights-syntax-markup-heading);
}

.github-markdown-body .pl-mi {
  font-style: italic;
  color: var(--color-prettylights-syntax-markup-italic);
}

.github-markdown-body .pl-mb {
  font-weight: bold;
  color: var(--color-prettylights-syntax-markup-bold);
}

.github-markdown-body .pl-md {
  color: var(--color-prettylights-syntax-markup-deleted-text);
  background-color: var(--color-prettylights-syntax-markup-deleted-bg);
}

.github-markdown-body .pl-mi1 {
  color: var(--color-prettylights-syntax-markup-inserted-text);
  background-color: var(--color-prettylights-syntax-markup-inserted-bg);
}

.github-markdown-body .pl-mc {
  color: var(--color-prettylights-syntax-markup-changed-text);
  background-color: var(--color-prettylights-syntax-markup-changed-bg);
}

.github-markdown-body .pl-mi2 {
  color: var(--color-prettylights-syntax-markup-ignored-text);
  background-color: var(--color-prettylights-syntax-markup-ignored-bg);
}

.github-markdown-body .pl-mdr {
  font-weight: bold;
  color: var(--color-prettylights-syntax-meta-diff-range);
}

.github-markdown-body .pl-ba {
  color: var(--color-prettylights-syntax-brackethighlighter-angle);
}

.github-markdown-body .pl-sg {
  color: var(--color-prettylights-syntax-sublimelinter-gutter-mark);
}

.github-markdown-body .pl-corl {
  text-decoration: underline;
  color: var(--color-prettylights-syntax-constant-other-reference-link);
}

.github-markdown-body [data-catalyst] {
  display: block;
}

.github-markdown-body g-emoji {
  font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
  font-size: 1em;
  font-style: normal !important;
  font-weight: 400;
  line-height: 1;
  vertical-align: -0.075em;
}

.github-markdown-body g-emoji img {
  width: 1em;
  height: 1em;
}

.github-markdown-body::before {
  display: table;
  content: "";
}

.github-markdown-body::after {
  display: table;
  clear: both;
  content: "";
}

.github-markdown-body>*:first-child {
  margin-top: 0 !important;
}

.github-markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.github-markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.github-markdown-body .absent {
  color: var(--color-danger-fg);
}

.github-markdown-body .anchor {
  float: left;
  padding-right: 4px;
  margin-left: -20px;
  line-height: 1;
}

.github-markdown-body .anchor:focus {
  outline: none;
}

.github-markdown-body p,
.github-markdown-body blockquote,
.github-markdown-body ul,
.github-markdown-body ol,
.github-markdown-body dl,
.github-markdown-body table,
.github-markdown-body pre,
.github-markdown-body details {
  margin-top: 0;
  margin-bottom: 16px;
}

.github-markdown-body blockquote>:first-child {
  margin-top: 0;
}

.github-markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.github-markdown-body sup>a::before {
  content: "[";
}

.github-markdown-body sup>a::after {
  content: "]";
}

.github-markdown-body h1 .octicon-link,
.github-markdown-body h2 .octicon-link,
.github-markdown-body h3 .octicon-link,
.github-markdown-body h4 .octicon-link,
.github-markdown-body h5 .octicon-link,
.github-markdown-body h6 .octicon-link {
  color: var(--color-fg-default);
  vertical-align: middle;
  visibility: hidden;
}

.github-markdown-body h1:hover .anchor,
.github-markdown-body h2:hover .anchor,
.github-markdown-body h3:hover .anchor,
.github-markdown-body h4:hover .anchor,
.github-markdown-body h5:hover .anchor,
.github-markdown-body h6:hover .anchor {
  text-decoration: none;
}

.github-markdown-body h1:hover .anchor .octicon-link,
.github-markdown-body h2:hover .anchor .octicon-link,
.github-markdown-body h3:hover .anchor .octicon-link,
.github-markdown-body h4:hover .anchor .octicon-link,
.github-markdown-body h5:hover .anchor .octicon-link,
.github-markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.github-markdown-body h1 tt,
.github-markdown-body h1 code,
.github-markdown-body h2 tt,
.github-markdown-body h2 code,
.github-markdown-body h3 tt,
.github-markdown-body h3 code,
.github-markdown-body h4 tt,
.github-markdown-body h4 code,
.github-markdown-body h5 tt,
.github-markdown-body h5 code,
.github-markdown-body h6 tt,
.github-markdown-body h6 code {
  padding: 0 .2em;
  font-size: inherit;
}

.github-markdown-body ul.no-list,
.github-markdown-body ol.no-list {
  padding: 0;
  list-style-type: none;
}

.github-markdown-body ol[type="1"] {
  list-style-type: decimal;
}

.github-markdown-body ol[type=a] {
  list-style-type: lower-alpha;
}

.github-markdown-body ol[type=i] {
  list-style-type: lower-roman;
}

.github-markdown-body div>ol:not([type]) {
  list-style-type: decimal;
}

.github-markdown-body ul ul,
.github-markdown-body ul ol,
.github-markdown-body ol ol,
.github-markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.github-markdown-body li>p {
  margin-top: 16px;
}

.github-markdown-body li+li {
  margin-top: .25em;
}

.github-markdown-body dl {
  padding: 0;
}

.github-markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
}

.github-markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.github-markdown-body table th {
  font-weight: 600;
}

.github-markdown-body table th,
.github-markdown-body table td {
  padding: 6px 13px;
  border: 1px solid var(--color-border-default);
}

.github-markdown-body table tr {
  background-color: var(--color-canvas-default);
  border-top: 1px solid var(--color-border-muted);
}

.github-markdown-body table tr:nth-child(2n) {
  background-color: var(--color-canvas-subtle);
}

.github-markdown-body table img {
  background-color: transparent;
}

.github-markdown-body img[align=right] {
  padding-left: 20px;
}

.github-markdown-body img[align=left] {
  padding-right: 20px;
}

.github-markdown-body .emoji {
  max-width: none;
  vertical-align: text-top;
  background-color: transparent;
}

.github-markdown-body span.frame {
  display: block;
  overflow: hidden;
}

.github-markdown-body span.frame>span {
  display: block;
  float: left;
  width: auto;
  padding: 7px;
  margin: 13px 0 0;
  overflow: hidden;
  border: 1px solid var(--color-border-default);
}

.github-markdown-body span.frame span img {
  display: block;
  float: left;
}

.github-markdown-body span.frame span span {
  display: block;
  padding: 5px 0 0;
  clear: both;
  color: var(--color-fg-default);
}

.github-markdown-body span.align-center {
  display: block;
  overflow: hidden;
  clear: both;
}

.github-markdown-body span.align-center>span {
  display: block;
  margin: 13px auto 0;
  overflow: hidden;
  text-align: center;
}

.github-markdown-body span.align-center span img {
  margin: 0 auto;
  text-align: center;
}

.github-markdown-body span.align-right {
  display: block;
  overflow: hidden;
  clear: both;
}

.github-markdown-body span.align-right>span {
  display: block;
  margin: 13px 0 0;
  overflow: hidden;
  text-align: right;
}

.github-markdown-body span.align-right span img {
  margin: 0;
  text-align: right;
}

.github-markdown-body span.float-left {
  display: block;
  float: left;
  margin-right: 13px;
  overflow: hidden;
}

.github-markdown-body span.float-left span {
  margin: 13px 0 0;
}

.github-markdown-body span.float-right {
  display: block;
  float: right;
  margin-left: 13px;
  overflow: hidden;
}

.github-markdown-body span.float-right>span {
  display: block;
  margin: 13px auto 0;
  overflow: hidden;
  text-align: right;
}

.github-markdown-body code,
.github-markdown-body tt {
  padding: .2em .4em;
  margin: 0;
  font-size: 85%;
  background-color: var(--color-neutral-muted);
  border-radius: 6px;
}

.github-markdown-body code br,
.github-markdown-body tt br {
  display: none;
}

.github-markdown-body del code {
  text-decoration: inherit;
}

.github-markdown-body pre code {
  font-size: 100%;
}

.github-markdown-body pre>code {
  padding: 0;
  margin: 0;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.github-markdown-body .highlight {
  margin-bottom: 16px;
}

.github-markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.github-markdown-body .highlight pre,
.github-markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: var(--color-canvas-subtle);
  border-radius: 6px;
}

.github-markdown-body pre code,
.github-markdown-body pre tt {
  display: inline;
  max-width: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.github-markdown-body .csv-data td,
.github-markdown-body .csv-data th {
  padding: 5px;
  overflow: hidden;
  font-size: 12px;
  line-height: 1;
  text-align: left;
  white-space: nowrap;
}

.github-markdown-body .csv-data .blob-num {
  padding: 10px 8px 9px;
  text-align: right;
  background: var(--color-canvas-default);
  border: 0;
}

.github-markdown-body .csv-data tr {
  border-top: 0;
}

.github-markdown-body .csv-data th {
  font-weight: 600;
  background: var(--color-canvas-subtle);
  border-top: 0;
}

.github-markdown-body .footnotes {
  font-size: 12px;
  color: var(--color-fg-muted);
  border-top: 1px solid var(--color-border-default);
}

.github-markdown-body .footnotes ol {
  padding-left: 16px;
}

.github-markdown-body .footnotes li {
  position: relative;
}

.github-markdown-body .footnotes li:target::before {
  position: absolute;
  top: -8px;
  right: -8px;
  bottom: -8px;
  left: -24px;
  pointer-events: none;
  content: "";
  border: 2px solid var(--color-accent-emphasis);
  border-radius: 6px;
}

.github-markdown-body .footnotes li:target {
  color: var(--color-fg-default);
}

.github-markdown-body .footnotes .data-footnote-backref g-emoji {
  font-family: monospace;
}

.github-markdown-body [hidden] {
  display: none !important;
}

.github-markdown-body ::-webkit-calendar-picker-indicator {
  filter: invert(50%);
}
/*!
  Theme: GitHub
  Description: Highlight-js port of github.com theme
  Author: github.com
  Maintainer: @SNDST00M, @mjbvz
  Updated: 2021-12-08
*/
.markdown-body pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 16px;
}

.markdown-body code.hljs {
  padding: 3px 5px;
}

/*!
  Theme: GitHub
  Description: Theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-dark
  Current colors taken from GitHub's CSS
*/
.markdown-body .hljs {
  color: var(--color-fg-default);
  background: var(--color-canvas-subtle);
}

.markdown-body .hljs-doctag,
.markdown-body .hljs-keyword,
.markdown-body .hljs-meta .hljs-keyword,
.markdown-body .hljs-template-tag,
.markdown-body .hljs-template-variable,
.markdown-body .hljs-type,
.markdown-body .hljs-variable.language_ {
  color: var(--color-prettylights-syntax-keyword);
}

.markdown-body .hljs-title,
.markdown-body .hljs-title.class_,
.markdown-body .hljs-title.class_.inherited__,
.markdown-body .hljs-title.function_ {
  color: var(--color-prettylights-syntax-entity);
}

.markdown-body .hljs-attr,
.markdown-body .hljs-attribute,
.markdown-body .hljs-literal,
.markdown-body .hljs-meta,
.markdown-body .hljs-number,
.markdown-body .hljs-operator,
.markdown-body .hljs-selector-attr,
.markdown-body .hljs-selector-class,
.markdown-body .hljs-selector-id,
.markdown-body .hljs-variable {
  color: var(--color-prettylights-syntax-constant);
}

.markdown-body .hljs-meta .hljs-string,
.markdown-body .hljs-regexp,
.markdown-body .hljs-string {
  color: var(--color-prettylights-syntax-string);
}

.markdown-body .hljs-built_in,
.markdown-body .hljs-symbol {
  color: var(--color-prettylights-syntax-variable);
}

.markdown-body .hljs-code,
.markdown-body .hljs-comment,
.markdown-body .hljs-formula {
  color: var(--color-prettylights-syntax-comment);
}

.markdown-body .hljs-name,
.markdown-body .hljs-quote,
.markdown-body .hljs-selector-pseudo,
.markdown-body .hljs-selector-tag {
  color: var(--color-prettylights-syntax-entity-tag);
}

.markdown-body .hljs-subst {
  color: var(--color-prettylights-syntax-constant);
}

.markdown-body .hljs-section {
  color: var(--color-prettylights-syntax-markup-heading);
  font-weight: bold;
}

.markdown-body .hljs-bullet {
  color: var(--color-prettylights-syntax-markup-list);
}

.markdown-body .hljs-emphasis {
  color: var(--color-prettylights-syntax-constant);
  font-style: italic;
}

.markdown-body .hljs-strong {
  color: var(--color-prettylights-syntax-constant);
  font-weight: bold;
}

.markdown-body .hljs-addition {
  color: var(--color-prettylights-syntax-markup-inserted-text);
  background-color: var(--color-prettylights-syntax-markup-inserted-bg);
}

.markdown-body .hljs-deletion {
  color: var(--color-prettylights-syntax-markup-deleted-text);
  background-color: var(--color-prettylights-syntax-markup-deleted-bg);
}

/* From extension marp-team.marp-vscode */
#__marp-vscode {
  all: initial;
}

/* Override VS Code default CSS rules reverting to initial
   https://github.com/microsoft/vscode/blob/master/src/vs/workbench/contrib/webview/browser/pre/main.js#L53 */
body.marp-vscode {
  padding: 0;
}

body.marp-vscode img {
  max-width: unset;
  max-height: unset;
}

body.marp-vscode a,
body.marp-vscode a:hover,
body.marp-vscode code {
  color: unset;
}

body.marp-vscode blockquote {
  background: unset;
  border-color: unset;
}

@media screen {
  body.marp-vscode {
    overflow-y: scroll;
  }

  #__marp-vscode [data-marp-vscode-slide-wrapper] {
    margin: 20px;
  }

  #__marp-vscode svg[data-marpit-svg] {
    box-shadow: 0 5px 10px rgb(0 0 0 / 25%);
    display: block;
    margin: 0;
  }

  /* Based on https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
  #code-csp-warning {
    background-color: #444;
    box-shadow: 1px 1px 1px rgb(0 0 0 / 25%);
    color: white;
    cursor: pointer;
    font-family: sans-serif;
    font-size: 12px;
    line-height: 22px;
    margin: 16px;
    padding: 6px;
    position: fixed;
    right: 0;
    text-align: center;
    top: 0;
    word-wrap: break-word;
  }

  #code-csp-warning:hover {
    text-decoration: none;
    background-color: #007acc;
    box-shadow: 2px 2px 2px rgb(0 0 0 / 25%);
  }
}

@media print {
  body.marp-vscode #code-csp-warning {
    display: none;
  }
}

/* From extension ms-toolsai.jupyter */
/* These classnames are inherited from bootstrap, but are present in most notebook renderers */

.alert {
    width: auto;
    padding: 1em;
    margin-top: 1em;
    margin-bottom: 1em;
}
.alert > *:last-child {
    margin-bottom: 0;
}
#preview > .alert:last-child {
    /* Prevent this being set to zero by the default notebook stylesheet */
    padding-bottom: 1em;
}

.alert-success {
    /* Note there is no suitable color available, so we just copy "info" */
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-info {
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-warning {
    background-color: var(--theme-warning-background);
    color: var(--theme-warning-foreground);
}
.alert-danger {
    background-color: var(--theme-error-background);
    color: var(--theme-error-foreground);
}

</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <div class="github-markdown-body github-markdown-auto">
            <div class="github-markdown-content"><h1 id="의존관계-자동-주입">의존관계 자동 주입</h1>
<h2 id="1-다양한-의존관계-주입-방법">1. 다양한 의존관계 주입 방법</h2>
<ol>
<li><strong>생성자 주입(constructor)</strong> ✔</li>
<li>수정자 주입(setter)</li>
<li>필드 주입</li>
<li>일반 메서드 주입</li>
</ol>
<h3 id="1-생성자-주입">1. 생성자 주입</h3>
<p>생성자 호출 시점에 딱 1번만 호출되는 것 보장</p>
<p>✔ <strong>불변, 필수</strong> 의존관계에 사용</p>
<pre><code class="language-java"><span class="hljs-comment">// OrderServiceImpl.java</span>

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderService</span>{

<span class="hljs-comment">//    final -&gt; 반드시 값을 할당해줘야한다.(필수, 불변)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MemberRepository memberRepository;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DiscountPolicy discountPolicy;


    <span class="hljs-meta">@Autowired</span> <span class="hljs-comment">// 생성자가 한 개만 있을 경우 생략해도 된다.</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderServiceImpl</span><span class="hljs-params">(MemberRepository memberRepository, <span class="hljs-meta">@MainDiscountPolicy</span>  DiscountPolicy discountPolicy)</span> {
<span class="hljs-comment">//        System.out.println(&quot;memberRepository = &quot; + memberRepository);</span>
<span class="hljs-comment">//        System.out.println(&quot;discountPolicy = &quot; + discountPolicy);</span>
        <span class="hljs-built_in">this</span>.memberRepository = memberRepository;
        <span class="hljs-built_in">this</span>.discountPolicy = discountPolicy;
    }
    ...
}

</code></pre>
<p>생성자가 한 개만 있을 경우 `@Autowired 생략 가능</p>
<h3 id="2-수정자-주입setter-주입">2. 수정자 주입(Setter 주입)</h3>
<p>필드의 값읍 변경하는 수정자 메서드인 setter를 통해서 의존 관계 주입</p>
<p><strong>선택, 변경</strong> 가능성이 있는 의존관계에 사용<br>
자바빈 프로퍼티 규약의 수정자 메서드 사용</p>
<pre><code class="language-java"><span class="hljs-comment">// OrderServiceImpl.java</span>

<span class="hljs-meta">@Component</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderService</span>{


    <span class="hljs-keyword">private</span> MemberRepository memberRepository;
    <span class="hljs-keyword">private</span> DiscountPolicy discountPolicy;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setMemberRepository</span><span class="hljs-params">(MemberRepository memberRepository)</span> {
        <span class="hljs-built_in">this</span>.memberRepository = memberRepository;
    }
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setDiscountPolicy</span><span class="hljs-params">(DiscountPolicy discountPolicy)</span> {
        <span class="hljs-built_in">this</span>.discountPolicy = discountPolicy;
    }
    ...
}
</code></pre>
<p>※ 자바빈 프로퍼티 규약: 필드의 값을 직접 변경하지 않고 setter랑 getter 메서드를 활용해 값을 읽거나 수정하는 규칙</p>
<h3 id="3-필드-주입">3. 필드 주입</h3>
<p>코드가 매우 간결하나 외부에서 변경이 불가능해 테스트하기 힘들다!</p>
<p><strong>가급적 사용 자제!!</strong></p>
<p>테스트코드나 스프링 설정 목적으로 하는 <code>@Configuration</code>같은 곳에서만 특별한 용도로 사용</p>
<pre><code class="language-java"><span class="hljs-comment">// OrederServiceImpl.java</span>

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MemberRepository memberRepository;
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DiscountPolicy discountPolicy;
}

</code></pre>
<h3 id="4일반-메서드-주입">4.일반 메서드 주입</h3>
<p>한번에 여러 필드를 주입 받을 수 있으나 잘 사용하지는 않는다!</p>
<pre><code class="language-java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderService</span> {
 
    <span class="hljs-keyword">private</span> MemberRepository memberRepository;
    <span class="hljs-keyword">private</span> DiscountPolicy discountPolicy;
 
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(MemberRepository memberRepository, DiscountPolicy discountPolicy)</span> {
        <span class="hljs-built_in">this</span>.memberRepository = memberRepository;
        <span class="hljs-built_in">this</span>.discountPolicy = discountPolicy;
    }

}
</code></pre>
<h2 id="2-옵션처리">2. 옵션처리</h2>
<p><strong>주입할 스프링 빈이 없어도 메서드를 동작</strong>하게 하고 싶을 경우 옵션 처리를 해야한다.</p>
<p>옵션 처리 방법</p>
<ul>
<li><code>@Autowired(required=false)</code> : 자동 주입할 대상이 없으면 수정자 메서드 자체가 호출 안됨</li>
<li><code>org.springframework.lang.@Nullable</code> : 자동 주입할 대상이 없으면 null이 입력된다.</li>
<li><code>Optional&lt;&gt;</code> : 자동 주입할 대상이 없으면 <code>Optional.empty</code> 가 입력된다</li>
</ul>
<pre><code class="language-java"><span class="hljs-comment">// AutowiredTest.java</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AutowiredTest</span> {

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">AutowiredOption</span><span class="hljs-params">()</span> {
        <span class="hljs-type">AnnotationConfigApplicationContext</span> <span class="hljs-variable">ac</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(TestBean.class);
    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestBean</span> {

        <span class="hljs-comment">// 스프링 빈에 등록되지 않은 대상 주입해보기 (Member)</span>

        <span class="hljs-comment">// 1. 의존 관계가 없으면 아예 호출이 안된다</span>
        <span class="hljs-meta">@Autowired(required = false)</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setNoBean1</span><span class="hljs-params">(Member noBean1)</span> {
            System.out.println(<span class="hljs-string">&quot;noBean1 = &quot;</span> + noBean1);
        }

        <span class="hljs-comment">// 2. null로 호출</span>
        <span class="hljs-meta">@Autowired</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setNoBean2</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> Member noBean2)</span> {
            System.out.println(<span class="hljs-string">&quot;noBean2 = &quot;</span> + noBean2);
        }

        <span class="hljs-comment">// 3. Optional.empty 호출</span>
        <span class="hljs-meta">@Autowired</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setNoBean3</span><span class="hljs-params">(Optional&lt;Member&gt; noBean3)</span> {
            System.out.println(<span class="hljs-string">&quot;noBean3 = &quot;</span> + noBean3);
        }
    }
}
</code></pre>
<pre><code class="language-text">// 테스트 결과

// 1. 은 호출이 안된다
noBean2 = null
noBean3 = Optional.empty

</code></pre>
<h2 id="3-생성자-주입을-선택하라">3. 생성자 주입을 선택하라</h2>
<p>최근에는 생성자 주입이 권장된다</p>
<h3 id="불변">불변</h3>
<p>✔ <strong>대부분 의존 관계 주입은 한번 일어나면 애플리케이션 종료시점까지 변경할 일이 없으며 권장되지 않는다</strong></p>
<p>수정자 주입을 사용하면 setter 메서드를 public으로 열여두어야 한다</p>
<ul>
<li>누군가 실수로 변경 가능</li>
<li>변경 안되는 메서드를 열어두는 것은 지양</li>
</ul>
<p>생성자 주입은 객체 생성 시에만 1번 호출되고 이후에 호출되지 않는다 -&gt; 불변 설계</p>
<h3 id="누락">누락**</h3>
<p>프레임워크 없이 순수한 자바 코드 단위로 실행 시(<code>@Autowired</code> 동작 x)</p>
<ul>
<li>수정자 주입에서는 실행은 되나 NPE발생</li>
<li>생성자 메서드에서는 <strong>컴파일 오류</strong> 발생 -&gt; 디버깅 용이</li>
</ul>
<h3 id="final"><code>final</code></h3>
<p>생성자 주입 사용 시 필드에 <code>final</code> 키워드를 사용할 수 있다 -&gt; 생성자에서 값이 설정되지 않는 오류를 컴파일 시점에 잡아준다</p>
<p>예시 코드</p>
<pre><code class="language-java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderService</span> {
 
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MemberRepository memberRepository;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DiscountPolicy discountPolicy;
    
    <span class="hljs-comment">// discountPolicy 누락</span>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderServiceImpl</span><span class="hljs-params">(MemberRepository memberRepository, DiscountPolicy discountPolicy)</span> {
        <span class="hljs-built_in">this</span>.memberRepository = memberRepository;
    }
 <span class="hljs-comment">//...</span>
}

</code></pre>
<p>컴파일 오류: <code>java: variable discountPolicy might not have been initialized</code></p>
<p>※ 참고: 수정자 주입을 포함한 나머지 주입 방식은 모두 생성자 이후에 호출되므로, 필드에 final 키워드를 사용할 수 없다. 오직 생성자 주입 방식만 final 키워드를 사용 가능</p>
<h2 id="4-롬복과-최신-트렌드">4. 롬복과 최신 트렌드</h2>
<p>매번 생성자 주입 코드 작성하기 번거롭다! -&gt; <strong>롬복 라이브러리 활용</strong></p>
<h3 id="롬복-라이브러리-설치-방법">롬복 라이브러리 설치 방법</h3>
<pre><code class="language-java">plugins {
	id <span class="hljs-string">&#x27;java&#x27;</span>
	id <span class="hljs-string">&#x27;org.springframework.boot&#x27;</span> version <span class="hljs-string">&#x27;2.7.7&#x27;</span>
	id <span class="hljs-string">&#x27;io.spring.dependency-management&#x27;</span> version <span class="hljs-string">&#x27;1.0.15.RELEASE&#x27;</span>
}

group = <span class="hljs-string">&#x27;hello&#x27;</span>
version = <span class="hljs-string">&#x27;0.0.1-SNAPSHOT&#x27;</span>
sourceCompatibility = <span class="hljs-string">&#x27;11&#x27;</span>

repositories {
	mavenCentral()
}

<span class="hljs-comment">//lombok 설정 추가 시작</span>
configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}
<span class="hljs-comment">//lombok 설정 추가 끝</span>

dependencies {

	<span class="hljs-comment">//lombok 라이브러리 추가 시작</span>
	compileOnly <span class="hljs-string">&#x27;org.projectlombok:lombok&#x27;</span>
	annotationProcessor <span class="hljs-string">&#x27;org.projectlombok:lombok&#x27;</span>
	testCompileOnly <span class="hljs-string">&#x27;org.projectlombok:lombok&#x27;</span>
	testAnnotationProcessor <span class="hljs-string">&#x27;org.projectlombok:lombok&#x27;</span>
	<span class="hljs-comment">//lombok 라이브러리 추가 끝</span>

	implementation <span class="hljs-string">&#x27;org.springframework.boot:spring-boot-starter&#x27;</span>
	testImplementation <span class="hljs-string">&#x27;org.springframework.boot:spring-boot-starter-test&#x27;</span>

}

tasks.named(<span class="hljs-string">&#x27;test&#x27;</span>) {
	useJUnitPlatform()
}

</code></pre>
<ol>
<li>Preferences(윈도우 File Settings) plugin lombok 검색 설치 실행 (재시작)</li>
<li>Preferences Annotation Processors 검색 Enable annotation processing 체크 (재시작)</li>
<li>임의의 테스트 클래스를 만들고 @Getter, @Setter 확인</li>
</ol>
<h3 id="롬복을-활용한-의존관계-주입">롬복을 활용한 의존관계 주입</h3>
<h4 id="기본-코드">기본 코드</h4>
<pre><code class="language-java"><span class="hljs-comment">// OrderServiceImpl.java</span>

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderService</span> {
 
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MemberRepository memberRepository;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DiscountPolicy discountPolicy;
 
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderServiceImpl</span><span class="hljs-params">(MemberRepository memberRepository, DiscountPolicy discountPolicy)</span> {
        <span class="hljs-built_in">this</span>.memberRepository = memberRepository;
        <span class="hljs-built_in">this</span>.discountPolicy = discountPolicy;
    }
}
</code></pre>
<h4 id="롬복-적용">롬복 적용</h4>
<pre><code class="language-java"><span class="hljs-comment">// OrderServiceImpl.java</span>

<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@RequiredArgsConstructor</span> <span class="hljs-comment">// final이 붙은 인스턴스에 대한 생성자를 만들어 준다</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderService</span>{

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MemberRepository memberRepository;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DiscountPolicy discountPolicy;

    ...
}
</code></pre>
<p>✔ <strong><code>@RequiredArgsConstructor</code> : final이 붙은 필드를 모아서 생성자를 자동으로 만들어준다</strong></p>
<p>최근에는 생성자를 1개 두고 <code>@Autowired</code>를 생략하는 방법을 주로 사용하면서, Lombok라이브러리의 <code>@RequiredArgsConstructor</code>를 함께 사용한다</p>
<h2 id="5-조회-빈이-2개-이상일-때">5. 조회 빈이 2개 이상일 때</h2>
<p><code>@Autowired</code>는 타입으로 조회한다 (<code>ac.getBean(DiscountPolicy.class) </code>와 유사) -&gt; 같은 타입의 빈이 2개 이상이면 문제 발생!</p>
<h3 id="예시">예시</h3>
<pre><code class="language-java"><span class="hljs-comment">// FixDiscountPolicy.java</span>

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FixDiscountPolicy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DiscountPolicy</span> {}
</code></pre>
<pre><code class="language-java"><span class="hljs-comment">// RateDiscountPolicy.java</span>

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RateDiscountPolicy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DiscountPolicy</span> {}

</code></pre>
<pre><code class="language-java"><span class="hljs-comment">// 의존관게 자동 주입 실행</span>

<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> DiscountPolicy discountPolicy
</code></pre>
<pre><code class="language-text">NoUniqueBeanDefinitionException: No qualifying bean of type 
&#x27;hello.core.discount.DiscountPolicy&#x27; available: 
expected single matching bean but found 2: fixDiscountPolicy,rateDiscountPolicy
</code></pre>
<p><code>NoUniqueBeanDefinitionException</code> 오류 발생</p>
<p>그렇다고 하위 타입으로 지정하면 DIP 위배 및 유연성 감소! 그리고 하위 타입도 같으면 문제 발생 가능</p>
<p>그렇다면...?</p>
<h2 id="6-autowired-필드-명-qualifier-primary">6. <code>@Autowired 필드 명</code>, <code>@Qualifier</code>, <code>@Primary</code></h2>
<p>조회 대상 빈이 2개 이상일 때 해결 방법</p>
<ol>
<li><code>@Autowired</code> 필드 명 매칭</li>
<li><code>@Qualifier</code> -&gt;  <code>@Qualifier</code>끼리 매칭 -&gt; 빈 이름 매칭</li>
<li><code>@Primary</code> 사용</li>
</ol>
<h3 id="1-autowired-필드-명-매칭">1. <code>@Autowired</code> 필드 명 매칭</h3>
<p>✔ <code>@Autowired</code> 는 타입 매칭을 시도하고, 이때 <strong>여러 빈이 있으면 필드 이름, 파라미터 이름으로 빈 이름을 추가 매칭</strong>한다.</p>
<pre><code class="language-java"><span class="hljs-meta">@Autowired</span>
<span class="hljs-comment">// 기존 코드</span>
<span class="hljs-comment">// private DiscountPolicy discountPolicy</span>
<span class="hljs-comment">// 필드 명을 빈 이름으로 변경</span>
<span class="hljs-keyword">private</span> DiscountPolicy rateDiscountPolicy 
</code></pre>
<h3 id="2-qualifier-사용">2. <code>@Qualifier</code> 사용</h3>
<p>✔ <strong><code>@Qualifier</code>를 통해 추가구분자를 붙여준다 (빈 이름 변경 x)</strong></p>
<h4 id="빈-등록시-qualifier-붙여주기">빈 등록시 <code>@Qualifier</code> 붙여주기</h4>
<pre><code class="language-java">
<span class="hljs-comment">// RateDiscountPolicy.java</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Qualifier(&quot;mainDiscountPolicy&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RateDiscountPolicy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DiscountPolicy</span> {}

<span class="hljs-comment">// FixDiscountPolicy.java</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Qualifier(&quot;fixDiscountPolicy&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FixDiscountPolicy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DiscountPolicy</span> {}

</code></pre>
<h4 id="주입시에-qualifier를-붙여주고-등록한-이름을-적어주기">주입시에 <code>@Qualifier</code>를 붙여주고 등록한 이름을 적어주기</h4>
<pre><code class="language-java"><span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderServiceImpl</span><span class="hljs-params">(MemberRepository memberRepository, <span class="hljs-meta">@Qualifier(&quot;mainDiscountPolicy&quot;)</span> DiscountPolicy
discountPolicy)</span> {
    <span class="hljs-built_in">this</span>.memberRepository = memberRepository;
    <span class="hljs-built_in">this</span>.discountPolicy = discountPolicy;
}
</code></pre>
<p>해당 qualifier를 못 찾으면 다시 빈 이름으로 매칭을 하지만 qulifier는 가급적 qualifier끼리 매칭하는 것 권장!</p>
<h3 id="3-primary-사용">3. <code>@Primary</code> 사용</h3>
<p>✔ <strong><code>@Primary</code>: 우선순위 지정</strong></p>
<ul>
<li><code>@Autowired</code> 시에 여러 빈이 매칭되면 <code>@Primary</code> 가 우선권을 가진다</li>
</ul>
<pre><code class="language-java"><span class="hljs-comment">// rateDiscountPolicy 가 우선권을 가진다</span>

<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Primary</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RateDiscountPolicy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DiscountPolicy</span> {}

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FixDiscountPolicy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DiscountPolicy</span> {}

</code></pre>
<h3 id="primary-vs-qualifier">Primary vs Qualifier</h3>
<p><code>@Qualifier</code> 의 단점은 주입 받을 때 모든 코드에 <code>@Qualifier</code>를 붙여줘야 한다는 것</p>
<p>메인 커넥션은 <code>@Primary</code>를 활용해 <code>@Qualifier</code> 지정 없이 편하게 조회</p>
<p>서브 커넥션은 <code>@Qualifier</code>를 지정해 명시적으로 커넥션 빈 획득</p>
<h4 id="우선순위">우선순위</h4>
<p>좁은 범위의 <code>@Qualifier</code>가 우선권을 가진다</p>
<h2 id="7-annotation--직접-만들기">7. Annotation  직접 만들기</h2>
<p><code>@Qualifier(&quot;mainDiscountPolicy&quot;)</code>와 같이 문자를 적으면 컴파일시 타입 체크가 안된다</p>
<p>애노테이션을 만들어서 문제 해결</p>
<pre><code class="language-java"><span class="hljs-keyword">package</span> hello.core.annotation;

<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-meta">@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.TYPE, ElementType.ANNOTATION_TYPE})</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Inherited</span>
<span class="hljs-meta">@Qualifier(&quot;mainDiscountPolicy&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> MainDiscountPolicy {
}
</code></pre>
<h3 id="annotation-적용">annotation 적용</h3>
<pre><code class="language-java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@MainDiscountPolicy</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RateDiscountPolicy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DiscountPolicy</span> {}
</code></pre>
<pre><code class="language-java"><span class="hljs-comment">// OrderServiceImpl.java</span>

<span class="hljs-comment">//생성자 자동 주입</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderServiceImpl</span><span class="hljs-params">(MemberRepository memberRepository, <span class="hljs-meta">@MainDiscountPolicy</span> DiscountPolicy discountPolicy)</span> {
    <span class="hljs-built_in">this</span>.memberRepository = memberRepository;
    <span class="hljs-built_in">this</span>.discountPolicy = discountPolicy;
}
</code></pre>
<p>annotation에는 상속 기능이 없다</p>
<p>위와 같이 여러 anntotation을 모아서 사용하는 기능은 java가 아니라 스프링에서 지원해주는 기능</p>
<p>다른 annotation도 조합 / 재정의할 수 있으나 가급적 지양</p>
<h2 id="8-list-map--조회한-빈이-모두-필요할-때">8. List, Map : 조회한 빈이 모두 필요할 때</h2>
<p>✔ <strong>의도적으로 해당 타입의 스프링 빈이 모두 필요한 경우 -&gt; List, Map 활용해 전략패턴 구현</strong></p>
<p>ex) 할인 서비스를 제공하는데 클라이언트가 직접 할인의 종류(rate, fix) 선택 가능</p>
<h3 id="예시-코드">예시 코드</h3>
<pre><code class="language-java">
<span class="hljs-keyword">package</span> hello.core.autowired;

<span class="hljs-keyword">import</span> hello.core.AutoAppConfig;
<span class="hljs-keyword">import</span> hello.core.discount.DiscountPolicy;
<span class="hljs-keyword">import</span> hello.core.member.Grade;
<span class="hljs-keyword">import</span> hello.core.member.Member;
<span class="hljs-keyword">import</span> hello.core.scan.AutoAppConfigTest;
<span class="hljs-keyword">import</span> org.assertj.core.api.Assertions;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">allBeanTest</span> {

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">findAllBean</span><span class="hljs-params">()</span> {
        <span class="hljs-type">AnnotationConfigApplicationContext</span> <span class="hljs-variable">ac</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(AutoAppConfig.class, DiscountService.class);
        <span class="hljs-type">DiscountService</span> <span class="hljs-variable">discountService</span> <span class="hljs-operator">=</span> ac.getBean(DiscountService.class);
        <span class="hljs-type">Member</span> <span class="hljs-variable">member</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Member</span>(<span class="hljs-number">1L</span>, <span class="hljs-string">&quot;userA&quot;</span>, Grade.VIP);
        <span class="hljs-type">int</span> <span class="hljs-variable">discountPrice</span> <span class="hljs-operator">=</span>  discountService.discount(member, <span class="hljs-number">10000</span>, <span class="hljs-string">&quot;fixDiscountPolicy&quot;</span>);

        Assertions.assertThat(discountService).isInstanceOf(DiscountService.class);
        Assertions.assertThat(discountPrice).isEqualTo(<span class="hljs-number">1000</span>);

        <span class="hljs-type">int</span> <span class="hljs-variable">rateDiscountPrice</span> <span class="hljs-operator">=</span> discountService.discount(member, <span class="hljs-number">20000</span>, <span class="hljs-string">&quot;rateDiscountPolicy&quot;</span>);
        Assertions.assertThat(rateDiscountPrice).isEqualTo(<span class="hljs-number">2000</span>);


    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DiscountService</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, DiscountPolicy&gt; policyMap;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;DiscountPolicy&gt; policies;

        <span class="hljs-meta">@Autowired</span>
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">DiscountService</span><span class="hljs-params">(Map&lt;String, DiscountPolicy&gt; policyMap, List&lt;DiscountPolicy&gt; policies)</span> {
            <span class="hljs-built_in">this</span>.policyMap = policyMap;
            <span class="hljs-built_in">this</span>.policies = policies;
            System.out.println(<span class="hljs-string">&quot;policyMap = &quot;</span> + policyMap);
            System.out.println(<span class="hljs-string">&quot;policies = &quot;</span> + policies);
        }

        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">discount</span><span class="hljs-params">(Member member, <span class="hljs-type">int</span> price, String discountCode)</span> {
            <span class="hljs-type">DiscountPolicy</span> <span class="hljs-variable">discountPolicy</span> <span class="hljs-operator">=</span> policyMap.get(discountCode);
            <span class="hljs-keyword">return</span> discountPolicy.discount(member, price);
        }
    }
}
</code></pre>
<h4 id="로직">로직</h4>
<p>DiscountService는 Map으로 모든 <code>DiscoutPolicy</code> 주입 받는다 (<code>fixDiscountPolicy</code> &amp; <code>rateDiscountPolicy</code>)</p>
<p>메서드 <code>discount()</code>는 doscountCode로 넘어온 discountPolicy에 맞는 스프링 빈을 찾아서 실행한다</p>
<h4 id="주입">주입</h4>
<p><code>Map&lt;String, DiscountPolicy&gt;</code> : 키에 스프링 빈의 이름을, 값으로 DiscountPolicy 타입으로 조회한 모든 스프링 빈을 담아준다.</p>
<p><code>List&lt;DiscountPolicy&gt;</code> : DiscountPolicy 타입으로 조회한 모든 스프링 빈을 담아준다.</p>
<p>만약 해당하는 타입의 스프링 빈이 없으면, 빈 컬렉션이나 Map을 주입</p>
<h2 id="9-자동-수동의-올바른-실무-운영-기준">9. 자동, 수동의 올바른 실무 운영 기준</h2>
<h3 id="기본으로는-편리한-자동-기능-사용">기본으로는 편리한 자동 기능 사용</h3>
<p>스프링이 나오고 시간이 지날 수록 자동 선호 추세</p>
<p><code>@Component</code> 뿐만 아니라 <code>@Controller</code>, <code>@Service</code> , <code>@Repository</code> 처럼 계층에 맞추어 일반적인 애플리케이션 로직을 자동으로 스캔할 수 있도록 지원</p>
<p>스프링부트는 컴포넌트 스캔을 기본으로 사용하고 다른 스프링 빈들도 조건이 맞으면 자동으로 동륵되도록 설계</p>
<h3 id="수동-빈-등록은-로직에-따라-사용">수동 빈 등록은 로직에 따라 사용</h3>
<p>✔ <strong>업무 로직 빈</strong></p>
<ul>
<li>웹을 지원하는 컨트롤러, 핵심 비즈니스 로직이 있는 서비스, 데이터 계층의 로직을 처리하는 리포지토리 등</li>
<li>보통 비즈니스 요구사항을 개발할 때 추가되거나 변경</li>
</ul>
<p>✔ <strong>기술 지원 빈</strong></p>
<ul>
<li>기술적인 문제나 공통 관심사(AOP)를 처리할 때 주로 사용</li>
<li>데이터베이스 연결이나,공통 로그 처리처럼 업무 로직을 지원하기 위한 하부 기술이나 공통 기술 등</li>
</ul>
<p>업무 로직은 숫자도 매우 많고 한번 개발하면 컨트롤러, 서비스, 리포지토리 등 유사한 패턴 존재<br>
-&gt; <strong>자동 기능 사용</strong></p>
<p>기술 지원 로직은 수가 상대적으로 적고, 애플리케이션 전반에 걸쳐 광범위하게 영향을 미치고, 문제 발생 시 디버깅 어려움<br>
-&gt; <strong>수동 빈 등록 사용</strong></p>
<p>✔ <strong>애플리케이션에 광범위하게 영향을 미치는 기술 지원 객체는 수동 빈으로 등록해서 설정 정보에 바로 나타나게 하는 것이 유지보수 하기 좋다</strong></p>
<h3 id="비즈니스-로직-중에서-다형성을-적극-활용할-때">비즈니스 로직 중에서 다형성을 적극 활용할 때</h3>
<p>위의 List, Map과 같이 다형성을 적극 활용하는 경우 협업 시에 다른 개발자가 코드를 파악하기 어렵다</p>
<p>✔ <strong>수동 빈으로 등록하거나 자동으로 하면 특정 패키지에 같이 묶어두기</strong></p>
<h4 id="예시-코드">예시 코드</h4>
<pre><code class="language-java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DiscountPolicyConfig</span> {

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DiscountPolicy <span class="hljs-title function_">rateDiscountPolicy</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RateDiscountPolicy</span>();
    }

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DiscountPolicy <span class="hljs-title function_">fixDiscountPolicy</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FixDiscountPolicy</span>();
    }
}
</code></pre>
<p>설정 정보와 의존관계 주입 정보가 한 눈에 파악된다</p>
</div>
        </div>
        
        <script async type="text/javascript">
/* From extension marp-team.marp-vscode */
(()=>{var G=Object.defineProperty;var d=($,M)=>G($,"name",{value:M,configurable:!0});(()=>{var $={676:(g,f,h)=>{g.exports=h(185)},185:(g,f)=>{"use strict";var h;h={value:!0};const S={h1:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"1"},style:"display: block; font-size: 2em; margin-block-start: 0.67em; margin-block-end: 0.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h2:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"2"},style:"display: block; font-size: 1.5em; margin-block-start: 0.83em; margin-block-end: 0.83em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h3:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"3"},style:"display: block; font-size: 1.17em; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h4:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"4"},style:"display: block; margin-block-start: 1.33em; margin-block-end: 1.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h5:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"5"},style:"display: block; font-size: 0.83em; margin-block-start: 1.67em; margin-block-end: 1.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h6:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"6"},style:"display: block; font-size: 0.67em; margin-block-start: 2.33em; margin-block-end: 2.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},span:{proto:()=>HTMLSpanElement},pre:{proto:()=>HTMLElement,style:"display: block; font-family: monospace; white-space: pre; margin: 1em 0; --marp-auto-scaling-white-space: pre;"}},_="data-marp-auto-scaling-svg",p="data-marp-auto-scaling-container";class c extends HTMLElement{constructor(){super(),this.svgPreserveAspectRatio="xMinYMid meet";const s=d(r=>([n])=>{const{width:e,height:t}=n.contentRect;this[r]={width:e,height:t},this.updateSVGRect()},"e");this.attachShadow({mode:"open"}),this.containerObserver=new ResizeObserver(s("containerSize")),this.wrapperObserver=new ResizeObserver((...r)=>{s("wrapperSize")(...r),this.flushSvgDisplay()})}static get observedAttributes(){return["data-downscale-only"]}connectedCallback(){var s,r,n,e,t;this.shadowRoot.innerHTML=`
<style>
  svg[${_}] { display: block; width: 100%; height: auto; vertical-align: top; }
  span[${p}] { display: table; white-space: var(--marp-auto-scaling-white-space, nowrap); width: max-content; }
</style>
<div data-marp-auto-scaling-wrapper>
  <svg part="svg" ${_}>
    <foreignObject><span ${p}><slot></slot></span></foreignObject>
  </svg>
</div>
    `.split(/\n\s*/).join(""),this.wrapper=(s=this.shadowRoot.querySelector("div[data-marp-auto-scaling-wrapper]"))!==null&&s!==void 0?s:void 0;const i=this.svg;this.svg=(n=(r=this.wrapper)===null||r===void 0?void 0:r.querySelector(`svg[${_}]`))!==null&&n!==void 0?n:void 0,this.svg!==i&&(this.svgComputedStyle=this.svg?window.getComputedStyle(this.svg):void 0),this.container=(t=(e=this.svg)===null||e===void 0?void 0:e.querySelector(`span[${p}]`))!==null&&t!==void 0?t:void 0,this.observe()}disconnectedCallback(){this.svg=void 0,this.svgComputedStyle=void 0,this.wrapper=void 0,this.container=void 0,this.observe()}attributeChangedCallback(){this.observe()}flushSvgDisplay(){const{svg:s}=this;s&&(s.style.display="inline",requestAnimationFrame(()=>{s.style.display=""}))}observe(){this.containerObserver.disconnect(),this.wrapperObserver.disconnect(),this.wrapper&&this.wrapperObserver.observe(this.wrapper),this.container&&this.containerObserver.observe(this.container),this.svgComputedStyle&&this.observeSVGStyle(this.svgComputedStyle)}observeSVGStyle(s){const r=d(()=>{const n=(()=>{const e=s.getPropertyValue("--preserve-aspect-ratio");return e?e.trim():`x${(({textAlign:t,direction:i})=>{if(t.endsWith("left"))return"Min";if(t.endsWith("right"))return"Max";if(t==="start"||t==="end"){let a=i==="rtl";return t==="end"&&(a=!a),a?"Max":"Min"}return"Mid"})(s)}YMid meet`})();n!==this.svgPreserveAspectRatio&&(this.svgPreserveAspectRatio=n,this.updateSVGRect()),s===this.svgComputedStyle&&requestAnimationFrame(r)},"t");r()}updateSVGRect(){var s,r,n,e,t,i,a;let m=Math.ceil((r=(s=this.containerSize)===null||s===void 0?void 0:s.width)!==null&&r!==void 0?r:0);const v=Math.ceil((e=(n=this.containerSize)===null||n===void 0?void 0:n.height)!==null&&e!==void 0?e:0);this.dataset.downscaleOnly!==void 0&&(m=Math.max(m,(i=(t=this.wrapperSize)===null||t===void 0?void 0:t.width)!==null&&i!==void 0?i:0));const y=(a=this.svg)===null||a===void 0?void 0:a.querySelector(":scope > foreignObject");if(y?.setAttribute("width",`${m}`),y?.setAttribute("height",`${v}`),this.svg&&(this.svg.setAttribute("viewBox",`0 0 ${m} ${v}`),this.svg.setAttribute("preserveAspectRatio",this.svgPreserveAspectRatio),this.svg.style.height=m<=0||v<=0?"0":""),this.container){const k=this.svgPreserveAspectRatio.toLowerCase();this.container.style.marginLeft=k.startsWith("xmid")||k.startsWith("xmax")?"auto":"0",this.container.style.marginRight=k.startsWith("xmi")?"auto":"0"}}}d(c,"n");const o=d((l,{attrs:s={},style:r})=>class extends l{constructor(...n){super(...n);for(const[e,t]of Object.entries(s))this.hasAttribute(e)||this.setAttribute(e,t);this.attachShadow({mode:"open"})}static get observedAttributes(){return["data-auto-scaling"]}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_update(){const n=r?`<style>:host { ${r} }</style>`:"";let e="<slot></slot>";const{autoScaling:t}=this.dataset;t!==void 0&&(e=`<marp-auto-scaling exportparts="svg:auto-scaling" ${t==="downscale-only"?"data-downscale-only":""}>${e}</marp-auto-scaling>`),this.shadowRoot.innerHTML=n+e}},"s");let u;const b=Symbol(),q="marpitSVGPolyfill:setZoomFactor,",V=Symbol();let A,C;function P(l){const s=typeof l=="object"&&l.target||document,r=typeof l=="object"?l.zoom:l;window[V]||(Object.defineProperty(window,V,{configurable:!0,value:!0}),window.addEventListener("message",({data:e,origin:t})=>{if(t===window.origin)try{if(e&&typeof e=="string"&&e.startsWith(q)){const[,i]=e.split(","),a=Number.parseFloat(i);Number.isNaN(a)||(C=a)}}catch(i){console.error(i)}}));let n=!1;Array.from(s.querySelectorAll("svg[data-marpit-svg]"),e=>{var t,i,a,m;e.style.transform||(e.style.transform="translateZ(0)");const v=r||C||e.currentScale||1;A!==v&&(A=v,n=v);const y=e.getBoundingClientRect(),{length:k}=e.children;for(let L=0;L<k;L+=1){const x=e.children[L];if(x.getScreenCTM){const w=x.getScreenCTM();if(w){const N=(i=(t=x.x)===null||t===void 0?void 0:t.baseVal.value)!==null&&i!==void 0?i:0,W=(m=(a=x.y)===null||a===void 0?void 0:a.baseVal.value)!==null&&m!==void 0?m:0,B=x.children.length;for(let T=0;T<B;T+=1){const j=x.children[T];if(j.tagName==="SECTION"){const{style:O}=j;O.transformOrigin||(O.transformOrigin=`${-N}px ${-W}px`),O.transform=`scale(${v}) matrix(${w.a}, ${w.b}, ${w.c}, ${w.d}, ${w.e-y.left}, ${w.f-y.top}) translateZ(0.0001px)`;break}}}}}}),n!==!1&&Array.from(s.querySelectorAll("iframe"),({contentWindow:e})=>{e?.postMessage(`${q}${n}`,window.origin==="null"?"*":window.origin)})}d(P,"p");function z({once:l=!1,target:s=document}={}){const r=navigator.vendor==="Apple Computer, Inc."?[P]:[];let n=!l;const e=d(()=>{for(const t of r)t({target:s});n&&window.requestAnimationFrame(e)},"s");return e(),()=>{n=!1}}d(z,"h"),A=1,C=void 0;const E=Symbol(),H=d((l=document)=>{if(typeof window>"u")throw new Error("Marp Core's browser script is valid only in browser context.");if(((e=document)=>{const t=window[b];t||customElements.define("marp-auto-scaling",c);for(const i of Object.keys(S)){const a=`marp-${i}`,m=S[i].proto();u!=null||(u=!!document.createElement("div",{is:"marp-auto-scaling"}).outerHTML.startsWith("<div is")),u&&m!==HTMLElement?t||customElements.define(a,o(m,{style:S[i].style}),{extends:i}):(t||customElements.define(a,o(HTMLElement,S[i])),e.querySelectorAll(`${i}[is="${a}"]`).forEach(v=>{v.outerHTML=v.outerHTML.replace(new RegExp(`^<${i}`,"i"),`<${a}`).replace(new RegExp(`</${i}>$`,"i"),`</${a}>`)}))}window[b]=!0})(l),l[E])return l[E];const s=z({target:l}),r=d(()=>{s(),delete l[E]},"a"),n=Object.assign(r,{cleanup:r,update:()=>H(l)});return Object.defineProperty(l,E,{configurable:!0,value:n}),n},"m");f.browser=H,h=H,h=z}},M={};function R(g){var f=M[g];if(f!==void 0)return f.exports;var h=M[g]={exports:{}};return $[g](h,h.exports,R),h.exports}d(R,"__webpack_require__");var F={};(()=>{"use strict";var g=R(676);function f(){let p,c;const o=d(()=>{const u=document.getElementById("__marp-vscode"),b=!!u;p!==b?(document.body.classList.toggle("marp-vscode",b),b?c=(0,g.browser)():(c?.cleanup(),c=void 0),p=b):b&&c?.update(),p?(u&&h(u),S()):_()},"updateCallback");window.addEventListener("load",()=>window.setTimeout(o,100)),window.addEventListener("vscode.markdown.updateContent",o),o()}d(f,"preview");const h=d(p=>{p.querySelectorAll("[is]").forEach(c=>{if(c.nodeName.includes("-")||document.createElement(c.nodeName).constructor!==c.constructor)return;const{outerHTML:u}=c;c.outerHTML=u,console.debug("[marp-vscode] Custom element has been upgraded forcibly:",u.slice(0,u.indexOf(">")+1||void 0))})},"forceUpgradeCustomElements"),S=d(()=>{const p=document.querySelectorAll("style:not(#__marp-vscode-style):not(#_defaultStyles):not([data-marp-vscode-body])"),c=document.querySelectorAll('link[rel="stylesheet"][href]:not([href*="marp-vscode"])');p.forEach(o=>{o.closest("#__marp-vscode")||(o.dataset.marpVscodeBody=o.textContent??"",o.textContent="")}),c.forEach(o=>{if(o.closest("#__marp-vscode"))return;const{href:u}=o;o.dataset.marpVscodeHref=u,o.removeAttribute("href")})},"removeStyles"),_=d(()=>{const p=document.querySelectorAll("style[data-marp-vscode-body]"),c=document.querySelectorAll("link[data-marp-vscode-href]");p.forEach(o=>{o.textContent=o.dataset.marpVscodeBody||"",delete o.dataset.marpVscodeBody}),c.forEach(o=>{o.href=o.dataset.marpVscodeHref||"",delete o.dataset.marpVscodeHref})},"restoreStyles");f()})()})();})();

</script>

    </body>
    </html>